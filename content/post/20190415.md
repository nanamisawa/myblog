---
title: "20190415"
cover: "/images/cover.jpg"
tags: ["bash", "linux"]
date: 2019-04-15T00:44:03+09:00
draft: false
---

Cut out summary from your post content here.

<!--more-->

The remaining content of your post.

# 前提
- NFSで同様にファイルサーバがマウントされている計算機間でのsshログイン
- sshログイン後も元いたディレクトリのままになるようなコマンドを.bashrcで設定したい（通常はsshすると下のようにhomeディレクトリに移動する　いちいち元の場所にcdするのは面倒）  

```
[misawa@host1 test]$ ssh host2
[misawa@host2 ~]$
```

# 失敗例  

```
function sshcd(){
		    current=`pwd`
			    ssh $1 "cd $current"
}
```

これだとcdを実行したあと閉じるので元に戻ってしまう（ターミナルの見た目上は変化がない）

```
[misawa@host1 test]$ sshcd host2
[misawa@host1 test]$
```

# 成功例
```
function sshcd(){
		    current=`pwd`
			    ssh -t $1 "cd $current && /bin/bash"
}
```

こうすることでうまくいきました。


```
[misawa@host1 test]$ sshcd host2
[misawa@host2 test]$
```
作業時間がほんのちょっと短縮できます。




※とても参考にさせて頂きました
https://qiita.com/kanemu/items/679c4e14aee15441e33f
